<map version="freeplane 1.7.0">
<!--To view this file, download free mind mapping software Freeplane from http://freeplane.sourceforge.net -->
<node TEXT="" FOLDED="false" ID="ID_842785017" CREATED="1354723540192" MODIFIED="1570524088704"><hook NAME="MapStyle" zoom="2.143">
    <properties fit_to_viewport="false" edgeColorConfiguration="#808080ff,#ff0000ff,#0000ffff,#00ff00ff,#ff00ffff,#00ffffff,#7c0000ff,#00007cff,#007c00ff,#7c007cff,#007c7cff,#7c7c00ff"/>

<map_styles>
<stylenode LOCALIZED_TEXT="styles.root_node" STYLE="oval" UNIFORM_SHAPE="true" VGAP_QUANTITY="24.0 pt">
<font SIZE="24"/>
<stylenode LOCALIZED_TEXT="styles.predefined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="default" ICON_SIZE="12.0 pt" COLOR="#000000" STYLE="fork">
<font NAME="SansSerif" SIZE="10" BOLD="false" ITALIC="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.details"/>
<stylenode LOCALIZED_TEXT="defaultstyle.attributes">
<font SIZE="9"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.note" COLOR="#000000" BACKGROUND_COLOR="#ffffff" TEXT_ALIGN="LEFT"/>
<stylenode LOCALIZED_TEXT="defaultstyle.floating">
<edge STYLE="hide_edge"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.user-defined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="styles.topic" COLOR="#18898b" STYLE="fork">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subtopic" COLOR="#cc3300" STYLE="fork">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subsubtopic" COLOR="#669900">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.important">
<icon BUILTIN="yes"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.AutomaticLayout" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="AutomaticLayout.level.root" COLOR="#000000" STYLE="oval" SHAPE_HORIZONTAL_MARGIN="10.0 pt" SHAPE_VERTICAL_MARGIN="10.0 pt">
<font SIZE="18"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,1" COLOR="#0033ff">
<font SIZE="16"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,2" COLOR="#00b439">
<font SIZE="14"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,3" COLOR="#990000">
<font SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,4" COLOR="#111111">
<font SIZE="10"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,5"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,6"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,7"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,8"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,9"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,10"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,11"/>
</stylenode>
</stylenode>
</map_styles>
</hook>
<node TEXT="TEOR&#xcd;A JSP" POSITION="right" ID="ID_131039803" CREATED="1323990932345" MODIFIED="1354726402385" STYLE="bubble">
<font NAME="Dialog" SIZE="12" BOLD="true"/>
<node TEXT="Alain Fern&#xe1;ndez Fern&#xe1;ndez" ID="ID_718826638" CREATED="1331299486631" MODIFIED="1331299491029">
<font NAME="Dialog" SIZE="12" BOLD="true"/>
</node>
</node>
<node TEXT="(tutoriales)" FOLDED="true" POSITION="right" ID="ID_196855239" CREATED="1354723574488" MODIFIED="1355938048648">
<node TEXT="http://www.jsptut.com/" FOLDED="true" ID="ID_403155061" CREATED="1354723574488" MODIFIED="1355938038292" LINK="http://www.jsptut.com/">
<node TEXT="paso a paso, con pocas cosas, claro, simple y sin complicaciones" ID="ID_1531464018" CREATED="1354723574488" MODIFIED="1354723574488"/>
</node>
<node TEXT="http://www.roseindia.net/jsp/jsp.htm" ID="ID_558460808" CREATED="1354723574488" MODIFIED="1354723662714" LINK="http://www.roseindia.net/jsp/jsp.htm">
<node TEXT="temas concretos sobre JSP, es bueno, pero no es un tutorial de principio a fin" ID="ID_30955799" CREATED="1354723574504" MODIFIED="1354723574504"/>
</node>
</node>
<node TEXT="&#xbf;qu&#xe9; es JSP?" FOLDED="true" POSITION="right" ID="ID_608833084" CREATED="1354723574457" MODIFIED="1355938167097">
<node TEXT="JSP es un lenguaje y una tecnolog&#xed;a que genera p&#xe1;ginas web din&#xe1;micamente a partir de un contenido h&#xed;brido entre HTML (est&#xe1;tico) y Java (que produce din&#xe1;micamente HTML)" ID="ID_1136600754" CREATED="1354723574457" MODIFIED="1354723574457"/>
<node TEXT="en el primer uso que se haga de un JSP, este es procesado (es una traducci&#xf3;n que incluye copia-pega de c&#xf3;digo y texto del .jsp a un .java) para obtener una CLASE CONCRETA QUE HEREDA DE LA CLASE ABSTRACTA &quot;HttpServlet&quot;. Esta clase es COMPILADA (tarda unos instantes) y posteriormente queda disponible para este primer uso y para los siguientes usos que se hagan de ella" ID="ID_604172791" CREATED="1354723574488" MODIFIED="1354723755488"/>
<node TEXT="&#xa1;por tanto, nuestro c&#xf3;digo, todo lo que pongamos en un JSP, terminar&#xe1; formando parte de una clase como cualquier otra!" ID="ID_338481967" CREATED="1354723574488" MODIFIED="1354723574488"/>
</node>
<node TEXT="instalaci&#xf3;n de Tomcat en Linux" FOLDED="true" POSITION="right" ID="ID_1112351352" CREATED="1570095850183" MODIFIED="1570095859398">
<node TEXT="instalando en Linux Mint 19" ID="ID_470693808" CREATED="1570095859640" MODIFIED="1570095868564"/>
<node TEXT="seguimos tutorial:" ID="ID_65930575" CREATED="1570095869345" MODIFIED="1570095879389">
<node TEXT="https://www.digitalocean.com/community/tutorials/how-to-install-apache-tomcat-8-on-ubuntu-16-04" ID="ID_1009041901" CREATED="1570095874343" MODIFIED="1570095874343" LINK="https://www.digitalocean.com/community/tutorials/how-to-install-apache-tomcat-8-on-ubuntu-16-04"/>
</node>
<node TEXT="actualizaci&#xf3;n general:" ID="ID_70729549" CREATED="1570095880092" MODIFIED="1570437771362">
<node TEXT="sudo apt-get update" ID="ID_744614484" CREATED="1570095939651" MODIFIED="1570095992976">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
</node>
<node TEXT="actualizar jdk:" ID="ID_1445420647" CREATED="1570095996793" MODIFIED="1570437769725">
<node TEXT="sudo apt-get install default-jdk" ID="ID_289184012" CREATED="1570096058605" MODIFIED="1570096060689">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
</node>
<node TEXT="cambiar a /tmp" ID="ID_959843125" CREATED="1570097255005" MODIFIED="1570097273155">
<node TEXT="cd /tmp" ID="ID_761310315" CREATED="1570097273432" MODIFIED="1570097278896">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
</node>
<node TEXT="instalar curl" ID="ID_1067631849" CREATED="1570096902982" MODIFIED="1570096905343">
<node TEXT="apt install curl" ID="ID_604308823" CREATED="1570096908449" MODIFIED="1570096912506">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
</node>
<node TEXT="descargar, &quot;instalar&quot;&#xa;y configurar Tomcat" ID="ID_1491030617" CREATED="1570097280560" MODIFIED="1570437896712">
<node TEXT="descargar:" ID="ID_73837750" CREATED="1570437907761" MODIFIED="1570437909635">
<node TEXT="curl -O http://apache.rediris.es/tomcat/tomcat-8/v8.5.46/bin/apache-tomcat-8.5.46.tar.gz" ID="ID_235810471" CREATED="1570097276323" MODIFIED="1570097278895">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
</node>
<node TEXT="descomprimir:" ID="ID_289030475" CREATED="1570097750493" MODIFIED="1570437910997">
<node TEXT="sudo tar xzvf apache-tomcat-8*tar.gz -C /opt/tomcat --strip-components=1" ID="ID_270309600" CREATED="1570097283025" MODIFIED="1570097731923">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
</node>
<node TEXT="configurar JDK:" ID="ID_1752351943" CREATED="1570437903703" MODIFIED="1570437917708">
<node TEXT="ver qu&#xe9; JDKs tenemos disponibles:" ID="ID_1731077846" CREATED="1570097828483" MODIFIED="1570437927603"/>
<node TEXT="sudo update-java-alternatives -l" ID="ID_149926248" CREATED="1570097826034" MODIFIED="1570097828142">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
<node TEXT="" ID="ID_1853905405" CREATED="1570437952093" MODIFIED="1570437952093">
<node TEXT="(fij&#xe9;monos en el mayor)" ID="ID_1800856192" CREATED="1570097835788" MODIFIED="1570097840367"/>
<node TEXT="copiamos la ruta de la derecha; en este caso:" ID="ID_844744639" CREATED="1570097887113" MODIFIED="1570097900791"/>
<node TEXT="" ID="ID_1988776573" CREATED="1570097903286" MODIFIED="1570097903286">
<node TEXT="/usr/lib/jvm/java-1.11.0-openjdk-amd64" ID="ID_809720523" CREATED="1570097884896" MODIFIED="1570097886759"/>
</node>
</node>
<node TEXT="ahora, en este fichero, hay que establecer la variable JAVA_HOME a esa ruta:" ID="ID_858964633" CREATED="1570097904980" MODIFIED="1570437973344"/>
<node TEXT="sudo nano /etc/systemd/system/tomcat.service" ID="ID_611313089" CREATED="1570097951295" MODIFIED="1570097954094">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
<node TEXT="(guardar y salir)" ID="ID_1735191733" CREATED="1570437976103" MODIFIED="1570437980823"/>
</node>
</node>
<node TEXT="reiniciar el daemon &quot;systemd&quot;" ID="ID_1703022788" CREATED="1570437934720" MODIFIED="1570438039838">
<node TEXT="sudo systemctl daemon-reload" ID="ID_158115528" CREATED="1570097273432" MODIFIED="1570438018311">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
<node TEXT="(es para que sepa del nuevo servicio de Tomcat)" ID="ID_1925951620" CREATED="1570438043553" MODIFIED="1570438051971"/>
</node>
<node TEXT="iniciar Tomcat" ID="ID_1728742323" CREATED="1570437721502" MODIFIED="1570438064145">
<node TEXT="sudo systemctl start tomcat" ID="ID_1121330370" CREATED="1570097273432" MODIFIED="1570438078580">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
<node TEXT="comprobar el inicio mediante:" ID="ID_409492712" CREATED="1570438176390" MODIFIED="1570438179867"/>
<node TEXT="sudo systemctl status tomcat" ID="ID_449315919" CREATED="1570097273432" MODIFIED="1570438188661">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
</node>
<node TEXT="parar Tomcat" ID="ID_835233681" CREATED="1570442208946" MODIFIED="1570442211132">
<node TEXT="si fuese necesario (no lo haremos ahora), ser&#xed;a as&#xed;:" ID="ID_1956433585" CREATED="1570442212260" MODIFIED="1570442223069"/>
<node TEXT="sudo systemctl stop tomcat" ID="ID_1909857264" CREATED="1570097273432" MODIFIED="1570442227858">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
</node>
<node TEXT="inicio autom&#xe1;tico" ID="ID_517626989" CREATED="1570439034601" MODIFIED="1570439037571">
<node TEXT="si se quiere programar Tomcat para iniciarse autom&#xe1;ticamente" ID="ID_1117767175" CREATED="1570439017147" MODIFIED="1570439034325"/>
<node TEXT="sudo systemctl enable tomcat" ID="ID_1173964698" CREATED="1570439038088" MODIFIED="1570439039077">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
</node>
<node TEXT="acceder a Tomcat v&#xed;a navegador web" ID="ID_130298915" CREATED="1570442479272" MODIFIED="1570442490250">
<node TEXT="http://localhost:8080/" ID="ID_1855101206" CREATED="1570442494776" MODIFIED="1570442494776" LINK="http://localhost:8080/"/>
</node>
<node TEXT="configurar acceso de administraci&#xf3;n" ID="ID_885546971" CREATED="1570446447252" MODIFIED="1570446452261">
<node TEXT="sudo nano /opt/tomcat/conf/tomcat-users.xml" ID="ID_1303958233" CREATED="1570446452581" MODIFIED="1570446453843">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
<node TEXT="a&#xf1;adir esta l&#xed;nea dentro de la etiqueta &lt;tomcat-users&gt;:" ID="ID_975095111" CREATED="1570448419309" MODIFIED="1570448442715"/>
<node TEXT="" ID="ID_18444393" CREATED="1570448442890" MODIFIED="1570448442890">
<node TEXT="&lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui,admin-gui&quot;/&gt;" ID="ID_1568706889" CREATED="1570448443646" MODIFIED="1570448450565"/>
</node>
</node>
<node TEXT="errores y cosas" ID="ID_1911182235" CREATED="1570438533940" MODIFIED="1570442512953">
<icon BUILTIN="messagebox_warning"/>
<node TEXT="al iniciar Tomcat sal&#xed;a un error" ID="ID_1165879464" CREATED="1570438538282" MODIFIED="1570438550925">
<node TEXT="dec&#xed;a que:" ID="ID_1048562725" CREATED="1570438557335" MODIFIED="1570438561853">
<node TEXT="Job for tomcat.service failed because the control process exited with error code." ID="ID_3480594" CREATED="1570442333378" MODIFIED="1570442334050"/>
</node>
<node TEXT="en el fichero tomcat.service pon&#xed;a" ID="ID_710011668" CREATED="1570438564570" MODIFIED="1570438577304">
<node TEXT="User=tomcat&#xa;Group=tomcat" ID="ID_1205101060" CREATED="1570438578947" MODIFIED="1570438585839"/>
</node>
<node TEXT="lo he cambiado a" ID="ID_1535987474" CREATED="1570438586551" MODIFIED="1570438590180">
<node TEXT="User=laguna&#xa;Group=laguna" ID="ID_1018615792" CREATED="1570438590778" MODIFIED="1570438591884"/>
<node TEXT="User=alumno&#xa;Group=alumno" ID="ID_170568447" CREATED="1570438590778" MODIFIED="1570442344994"/>
</node>
<node TEXT="m&#xe1;s cosas" ID="ID_1592601625" CREATED="1570438765689" MODIFIED="1570438767014">
<node TEXT="cd /opt" ID="ID_553363039" CREATED="1570438770056" MODIFIED="1570438775859">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
<node TEXT="sudo chown -R laguna tomcat/" ID="ID_1043660202" CREATED="1570438767333" MODIFIED="1570438775862">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
<node TEXT="sudo chown -R alumno tomcat/" ID="ID_1107160594" CREATED="1570438767333" MODIFIED="1570442358465">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
</node>
<node TEXT="y recargo el daemon" ID="ID_476339168" CREATED="1570438635872" MODIFIED="1570438642076">
<node TEXT="sudo systemctl daemon-reload" ID="ID_468284087" CREATED="1570097273432" MODIFIED="1570438649159">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
</node>
<node TEXT="y ahora ya hace bien el" ID="ID_1044693996" CREATED="1570438799207" MODIFIED="1570438809598">
<icon BUILTIN="button_ok"/>
<node TEXT="sudo systemctl start tomcat" ID="ID_1807123581" CREATED="1570438803331" MODIFIED="1570438804758">
<icon BUILTIN="z_application_xp_terminal"/>
</node>
</node>
</node>
<node TEXT="fichero tomcat.service vac&#xed;o" ID="ID_423612681" CREATED="1570443605354" MODIFIED="1570443612883">
<node TEXT="en este caso, copiar el del profesor" ID="ID_895439268" CREATED="1570443613163" MODIFIED="1570443623906"/>
<node TEXT="y ajustarle los permisos para el usuario alumno" ID="ID_1892562048" CREATED="1570443624099" MODIFIED="1570443634947"/>
</node>
</node>
</node>
<node TEXT="usar JSP en Eclipse (Windows) {d?}" FOLDED="true" POSITION="right" ID="ID_1168028846" CREATED="1355841339431" MODIFIED="1570524580269">
<node TEXT="FIREWALL, IMPORTANT&#xcd;SIMO:" FOLDED="true" ID="ID_1904817515" CREATED="1355938863854" MODIFIED="1355938951445">
<icon BUILTIN="atenci&#xf3;n_!!"/>
<icon BUILTIN="atenci&#xf3;n_!!"/>
<icon BUILTIN="atenci&#xf3;n_!!"/>
<font NAME="Arial Narrow" SIZE="12" BOLD="true"/>
<node TEXT="si no conseguimos que se conecte con la BD, DESACTIVAR TODOS LOS FIREWALL QUE TENGAMOS" ID="ID_1589296934" CREATED="1355938884602" MODIFIED="1355938910987"/>
<node TEXT="puede que est&#xe9; activo solo el de Windows o puede que tambi&#xe9;n el antivirus traiga alg&#xfa;n firewall, etc." ID="ID_246643155" CREATED="1355938911351" MODIFIED="1355938934966"/>
</node>
<node TEXT="MySQL" FOLDED="true" ID="ID_788155972" CREATED="1355938228266" MODIFIED="1355938261915">
<node TEXT="instalar MySQL" ID="ID_846724653" CREATED="1355938201032" MODIFIED="1355938204228">
<node TEXT="todo con opciones por defecto" ID="ID_313313622" CREATED="1355938204809" MODIFIED="1355938211835"/>
<node TEXT="contrase&#xf1;a para root = &quot;toor&quot;" ID="ID_751070810" CREATED="1355938212172" MODIFIED="1355938220730"/>
</node>
<node TEXT="&quot;instalar&quot; el driver Connector/J" ID="ID_19849241" CREATED="1355938261905" MODIFIED="1355938268171">
<node TEXT="la instalaci&#xf3;n consiste solo en copiar un JAR a una carpeta" ID="ID_1160348237" CREATED="1337797416444" MODIFIED="1337797427294"/>
<node TEXT="Descargar en ZIP la &#xfa;ltima versi&#xf3;n de MySQL Connector/J." ID="ID_55528939" CREATED="1355412094261" MODIFIED="1355412094261">
<node TEXT="http://dev.mysql.com/downloads/connector/j/" ID="ID_793952895" CREATED="1355412391412" MODIFIED="1355412393834" LINK="http://dev.mysql.com/downloads/connector/j/"/>
<node TEXT="(no hace falta registrarse, hay un enlace peque&#xf1;o abajo para decirle que queremos continuar sin registrarnos)" ID="ID_1850546355" CREATED="1355412394163" MODIFIED="1355412408436"/>
</node>
<node TEXT="Buscar en el ZIP el archivo &quot;mysql-connector-java-x.x.xx-bin.jar&quot;." ID="ID_1181278319" CREATED="1355412094263" MODIFIED="1355412487083"/>
<node TEXT="Copiar ese archivo (solo ese) en la carpeta &quot;jre\lib\ext&quot; de la m&#xe1;quina virtual Java." ID="ID_783667890" CREATED="1355412094265" MODIFIED="1355426370311">
<node TEXT="ser&#xe1; algo como esto:&#xa;C:\Program Files\Java\jdk1.7.0_09\jre\lib\ext" ID="ID_398259291" CREATED="1355426371982" MODIFIED="1355426389604"/>
</node>
<node TEXT="si no estamos seguros de cu&#xe1;l es la m&#xe1;quina virtual que se est&#xe1; usando, COPIAR EL JAR A TODAS (TANTO JDK COMO JRE-S)" ID="ID_1862439746" CREATED="1355938312724" MODIFIED="1355938388186">
<icon BUILTIN="atenci&#xf3;n_!!"/>
</node>
</node>
<node TEXT="crear nuestra BD (nuestro &quot;schema&quot;) o importarlo, para que haya datos sobre los que trabajar" ID="ID_1612188794" CREATED="1355938347894" MODIFIED="1355938440241">
<node TEXT="asegurarnos de que el servicio de MySQL (MYSQL55) est&#xe1; iniciado (en Windows, en el Panel de Control, Herramientas Administrativas)" ID="ID_683910268" CREATED="1355412953965" MODIFIED="1355938516506">
<node TEXT="(si estos pasos no dan errores, es que est&#xe1; iniciado)" ID="ID_1091544871" CREATED="1355938611755" MODIFIED="1355938624800"/>
</node>
<node TEXT="abrir MySQL Workbench" ID="ID_1434450959" CREATED="1355412949047" MODIFIED="1355412953583"/>
<node TEXT="entrar a nuestro servidor de BD (habr&#xe1; solo uno, probablemente)" ID="ID_460790821" CREATED="1355938586697" MODIFIED="1355938598375"/>
<node TEXT="si pide contrase&#xf1;a, solemos poner &quot;root&quot; : &quot;toor&quot;" ID="ID_1026973629" CREATED="1355413192747" MODIFIED="1355938583854"/>
<node TEXT="una de dos" ID="ID_1360498548" CREATED="1355413139375" MODIFIED="1355938570399">
<node TEXT="o crear una nueva BD (un nuevo &quot;schema&quot;), crear tablas y poner datos" ID="ID_1448159020" CREATED="1355412940539" MODIFIED="1355938572230"/>
<node TEXT="o restaurar un backup" ID="ID_719708172" CREATED="1355413129873" MODIFIED="1355413155288">
<node TEXT="pantalla de inicio" ID="ID_1893937517" CREATED="1355413162332" MODIFIED="1355413164398"/>
<node TEXT="Server Administration" ID="ID_317786259" CREATED="1355413164567" MODIFIED="1355413167917"/>
<node TEXT="Manage Import / Export" ID="ID_553001569" CREATED="1355413169934" MODIFIED="1355413178445"/>
<node TEXT="Data Import/Restore" ID="ID_1049307461" CREATED="1355413234384" MODIFIED="1355413240703"/>
<node TEXT="X Import from Self-Contained File (.sql)" ID="ID_71519868" CREATED="1355413244094" MODIFIED="1355413264174"/>
</node>
</node>
<node TEXT="asegurarnos de que desde Java estamos intentando cargar esta BD con el mismo nombre" ID="ID_1061110822" CREATED="1355412982227" MODIFIED="1355938566060">
<icon BUILTIN="atenci&#xf3;n_!"/>
</node>
</node>
</node>
<node TEXT="Tomcat" FOLDED="true" ID="ID_1336735654" CREATED="1355938230937" MODIFIED="1355938232864">
<node TEXT="&quot;Instalar&quot; Tomcat" ID="ID_613572683" CREATED="1354292929321" MODIFIED="1354293186898">
<node TEXT="Descomprimir el ZIP de Tomcat en c:\tomcat" ID="ID_180661020" CREATED="1354292929322" MODIFIED="1355841367132"/>
</node>
</node>
<node TEXT="Eclipse" FOLDED="true" ID="ID_454768481" CREATED="1355938234887" MODIFIED="1355938236313">
<node TEXT="poner perspectiva &quot;Java EE&quot; en Eclipse" ID="ID_1760876620" CREATED="1355938086863" MODIFIED="1355938097965"/>
<node TEXT="a&#xf1;adir un servidor Tomcat en Eclipse:" ID="ID_1574414477" CREATED="1354293191963" MODIFIED="1355938111161">
<node TEXT="una de dos" ID="ID_1607762123" CREATED="1354293837031" MODIFIED="1354293841489">
<node TEXT="Ir a Ventana, Preferencias, Server, Runtime Environments, Add:" ID="ID_584458880" CREATED="1354292929323" MODIFIED="1354293205530"/>
<node TEXT="Ir a la pesta&#xf1;a Servers y pulsar el enlace para New server." ID="ID_1011545482" CREATED="1354293838296" MODIFIED="1354293853956"/>
</node>
<node TEXT="Apache Tomcat v7.0, O Create a new local server." ID="ID_602030045" CREATED="1354292929326" MODIFIED="1354293208361"/>
<node TEXT="Tomcat installation directory: (el de antes)" ID="ID_778252978" CREATED="1354292929327" MODIFIED="1354293207145"/>
</node>
<node TEXT="elegir servidor en Eclipse al ejecutar" ID="ID_1450716658" CREATED="1355938115239" MODIFIED="1355938646204">
<node TEXT="Cuando se empiece a programar, al lanzar por primera vez pide elegir servidor. Elegir el &#xfa;nico que hay y decirle que siempre el mismo." ID="ID_200761794" CREATED="1354292929328" MODIFIED="1354293214619"/>
</node>
</node>
<node TEXT="proxy" FOLDED="true" ID="ID_284452724" CREATED="1356027700738" MODIFIED="1356027730645">
<node TEXT="si estamos usando un proxy habitualmente, es necesario marcar la casilla de NO usar proxy para direcciones locales. Esto se hace en las opciones/configuraci&#xf3;n del navegador web (Chrome, IE, etc.)" ID="ID_162596540" CREATED="1356027704691" MODIFIED="1356027756674">
<icon BUILTIN="atenci&#xf3;n_!"/>
</node>
</node>
</node>
<node TEXT="c&#xf3;mo resolver problemas" FOLDED="true" POSITION="right" ID="ID_1979950887" CREATED="1356028310641" MODIFIED="1361588468894">
<node TEXT="reiniciar el servidor, reiniciar Eclipse y/o reiniciar el ordenador" ID="ID_1529885361" CREATED="1356028499651" MODIFIED="1356028536997"/>
<node TEXT="crear un nuevo proyecto y copiar todo all&#xed;" ID="ID_1522622915" CREATED="1356028414874" MODIFIED="1356028423415"/>
<node TEXT="crear un nuevo workspace" ID="ID_1392645538" CREATED="1356028423982" MODIFIED="1356028427563"/>
<node TEXT="reubicar m&#xe1;quina virtual Java" ID="ID_232899535" CREATED="1356028431657" MODIFIED="1356028439987">
<node TEXT="seg&#xfa;n pantallazo &quot;Errores masivos en Eclipse.png&quot;" ID="ID_516783785" CREATED="1356028441635" MODIFIED="1356028511690"/>
</node>
<node TEXT="borrar y a&#xf1;adir de nuevo el servidor" ID="ID_1112063806" CREATED="1356028464806" MODIFIED="1356028475630"/>
<node TEXT="puertos ocupados" ID="ID_778723159" CREATED="1356028342256" MODIFIED="1356028515919">
<node TEXT="si al iniciar el servidor o ejecutar un JSP dice algo de que est&#xe1;n los puertos ocupados, se puede cambiar el puerto por el que atiende Tomcat" ID="ID_902697904" CREATED="1356028322833" MODIFIED="1356028361990"/>
<node TEXT="para ello, en Eclipse" ID="ID_51357956" CREATED="1356028362302" MODIFIED="1356028368226">
<node TEXT="ir a la pesta&#xf1;a de Servidores" ID="ID_254839446" CREATED="1356028368858" MODIFIED="1356028373552"/>
<node TEXT="doble click en el servidor" ID="ID_435188577" CREATED="1356028373746" MODIFIED="1356028381075"/>
<node TEXT="cambiar el puerto de HTTP 1.1 a otro valor&#xa;  - el est&#xe1;ndar es 8080&#xa;  - podemos poner 8081, 8082, etc." ID="ID_1334742021" CREATED="1356028382207" MODIFIED="1356028411710"/>
<node TEXT="reiniciar el servidor" ID="ID_1203952499" CREATED="1356028525868" MODIFIED="1356028529185"/>
</node>
</node>
</node>
<node TEXT="codificaci&#xf3;n de caracteres (JSP)" FOLDED="true" POSITION="right" ID="ID_709430586" CREATED="1571132245616" MODIFIED="1571655680352">
<node TEXT="para que la p&#xe1;gina se vea bien (tildes,&#xa;e&#xf1;es...) son necesarias dos cosas:" ID="ID_431089446" CREATED="1571655405537" MODIFIED="1571655446474">
<node TEXT="que la p&#xe1;gina indique qu&#xe9; codificaci&#xf3;n tiene&#xa;(se hace en el propio HTML: etiqueta &lt;meta&gt;...)" ID="ID_1052619206" CREATED="1571655464555" MODIFIED="1571655569105">
<icon BUILTIN="full-1"/>
</node>
<node TEXT="que la p&#xe1;gina est&#xe9; codificada seg&#xfa;n lo dicho&#xa;(el lenguaje de scripting generar&#xe1; una codificaci&#xf3;n&#xa;por defecto; si se quiere cambiar, se har&#xe1; mediante&#xa;el propio lenguaje)" ID="ID_1661368863" CREATED="1571655446711" MODIFIED="1571655569647">
<icon BUILTIN="full-2"/>
</node>
</node>
<node TEXT="aqu&#xed; se describe qu&#xe9; hacer para cubrir la parte JSP" ID="ID_921594184" CREATED="1571655628088" MODIFIED="1571655683567"/>
<node TEXT="al principio del JSP (OK&#xa;tras el bloque inicial Java):" ID="ID_731845540" CREATED="1571132395326" MODIFIED="1571655700967">
<node TEXT="&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;" ID="ID_1621210337" CREATED="1571132404674" MODIFIED="1571132417171"/>
</node>
</node>
<node TEXT="elementos&#xa;del lenguaje" POSITION="right" ID="ID_1102221818" CREATED="1354727650008" MODIFIED="1355793083766">
<node TEXT="imports" ID="ID_1948006680" CREATED="1355501403387" MODIFIED="1355501405702">
<node TEXT="&lt;%@  %&gt;" ID="ID_1640353461" CREATED="1355501408569" MODIFIED="1355501418982"/>
<node TEXT="el procesador de JSP &quot;pegar&#xe1;&quot; este c&#xf3;digo al principio del fichero .java, antes incluso que la declaraci&#xf3;n de clase" ID="ID_396746780" CREATED="1354723574504" MODIFIED="1355501445141"/>
<node TEXT="sirve para importar clases" ID="ID_827283875" CREATED="1355501449264" MODIFIED="1355501453527">
<node TEXT="java" ID="ID_1110466983" CREATED="1355501453861" MODIFIED="1355501461488"/>
</node>
<node TEXT="&lt;%@ page import=&quot;java.sql.ResultSet&quot; %&gt;" ID="ID_235546692" CREATED="1355501520088" MODIFIED="1355501520088"/>
</node>
<node TEXT="declaraciones" ID="ID_1766391149" CREATED="1354723574504" MODIFIED="1354723574504">
<node TEXT="&lt;%!  %&gt;" ID="ID_1803621688" CREATED="1354723574504" MODIFIED="1354723574504"/>
<node TEXT="el procesador de JSP &quot;pegar&#xe1;&quot; este c&#xf3;digo &quot;justo debajo de la declaraci&#xf3;n de clase&quot;" ID="ID_607747833" CREATED="1354723574504" MODIFIED="1354723574504"/>
<node TEXT="sirve para declarar" ID="ID_891913659" CREATED="1354723574504" MODIFIED="1354723574504">
<node TEXT="&quot;variables globales&quot; (ojo), es decir, CAMPOS en la clase del Servlet" ID="ID_1389520546" CREATED="1354723574504" MODIFIED="1354723574504"/>
<node TEXT="CONSTANTES" ID="ID_1426942794" CREATED="1355157553111" MODIFIED="1355157556185"/>
<node TEXT="m&#xe9;todos que utilizaremos a lo largo de la p&#xe1;gina" ID="ID_1776472992" CREATED="1354723574504" MODIFIED="1354723574504"/>
</node>
<node TEXT="ejemplo" ID="ID_355270774" CREATED="1570606569642" MODIFIED="1570606572337">
<node TEXT="&lt;%! public static int count=0; %&gt;" ID="ID_943675285" CREATED="1570606572634" MODIFIED="1570606581677"/>
</node>
</node>
<node TEXT="scriptlets" ID="ID_906765492" CREATED="1354723574504" MODIFIED="1354723574504">
<node TEXT="&lt;%&#xa;&#xa;    // ... C&#xf3;digo JAVA&#xa;&#xa;%&gt;" ID="ID_1636613941" CREATED="1354723574504" MODIFIED="1587051532265"/>
<node TEXT="el procesador de JSP &quot;pegar&#xe1;&quot; este c&#xf3;digo &quot;justo dentro del &apos;main&apos; que procesar&#xe1; la p&#xe1;gina&quot;" ID="ID_1450017631" CREATED="1354723574504" MODIFIED="1354728286551"/>
<node TEXT="el c&#xf3;digo se ejecutar&#xe1;, pero no se imprimir&#xe1; nada salvo que se imprima expl&#xed;citamente desde el c&#xf3;digo" ID="ID_414185334" CREATED="1354728247681" MODIFIED="1354728290794"/>
</node>
<node TEXT="expresiones" ID="ID_1681915566" CREATED="1354723574504" MODIFIED="1354723574504">
<node TEXT="&lt;%=  %&gt;" ID="ID_1960778108" CREATED="1354723574504" MODIFIED="1354723574504"/>
<node TEXT="la EXPRESI&#xd3;N se evaluar&#xe1;, y se imprimir&#xe1; el resultado, sin necesidad de decirlo (ya lo estamos diciendo con el =)" ID="ID_674550011" CREATED="1354728275699" MODIFIED="1354728326347"/>
<node TEXT="ejemplo" ID="ID_1821569865" CREATED="1354723574504" MODIFIED="1587051313607">
<node TEXT="&lt;/html&gt;&#xa;&lt;body&gt;&#xa;&lt;p&gt;&#xa1;Hola! Ahora mismo son las &lt;%= new java.util.Date().toString() %&gt;.&lt;/p&gt;&#xa;&lt;/body&gt;&#xa;&lt;/html&gt;" ID="ID_587558071" CREATED="1354728346586" MODIFIED="1587051417161"/>
</node>
</node>
<node TEXT="EJEMPLO" ID="ID_578351875" CREATED="1355501632313" MODIFIED="1355501633762">
<node TEXT="// Aqu&#xed; se copiar&#xe1;n los elementos &lt;%@  %&gt;&#xa;import ***;&#xa;&#xa;public class LoqueseaServlet extends HttpServlet {&#xa;&#xa;    // Aqu&#xed; se copiar&#xe1;n los elementos &lt;%!  %&gt;&#xa;&#xa;    // Este &quot;doGet()&quot; es como si fuera el main()...&#xa;    public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {&#xa;&#xa;        // Aqu&#xed; se copiar&#xe1; TODO el resto del contenido de la p&#xe1;gina, con todos los elementos &lt;%  %&gt; y &lt;%=  %&gt;...&#xa;&#xa;    }&#xa;}" ID="ID_510144206" CREATED="1355501634867" MODIFIED="1570605608935"/>
</node>
</node>
<node TEXT="traducci&#xf3;n" POSITION="right" ID="ID_1797712399" CREATED="1355330908486" MODIFIED="1355331203215">
<node TEXT="se hace una traducci&#xf3;n de HTML a Java" ID="ID_1234704650" CREATED="1355330486901" MODIFIED="1355330918922">
<node TEXT="ejemplo" ID="ID_1513080298" CREATED="1355330496019" MODIFIED="1355330514562">
<node TEXT="esto" ID="ID_498844886" CREATED="1355330497634" MODIFIED="1355330498416">
<node TEXT="&lt;% for (int fila=0; fila&lt;datos.length; fila++) { %&gt;&#xa;&#x9;&lt;tr&gt;&#xa;&#x9;&#x9;&lt;td&gt;&lt;%=datos[fila][NOM]%&gt;&lt;/td&gt;&#xa;&#x9;&lt;/tr&gt;&#xa;&lt;% } %&gt;" ID="ID_387333240" CREATED="1355330502782" MODIFIED="1355330506161"/>
</node>
<node TEXT="har&#xed;a lo mismo que esto" ID="ID_1238727869" CREATED="1355331185002" MODIFIED="1355331187999">
<node TEXT="&lt;% for (int fila=0; fila&lt;datos.length; fila++) { %&gt;&#xa;&#x9;&lt;tr&gt;&#xa;&#x9;&#x9;&lt;td&gt;&lt;% out.println(datos[fila][NOM]); %&gt;&lt;/td&gt;&#xa;&#x9;&lt;/tr&gt;&#xa;&lt;% } %&gt;" ID="ID_956022102" CREATED="1355331188769" MODIFIED="1355331192679"/>
</node>
<node TEXT="y se traducir&#xed;a finalmente a esto" ID="ID_1216852266" CREATED="1355330498624" MODIFIED="1355331197874">
<node TEXT="&lt;% for (int fila=0; fila&lt;datos.length; fila++) {&#xa;&#x9;out.println(&quot;&lt;tr&gt;&quot;);&#xa;&#x9;out.println(&quot;&lt;td&gt;&quot; + datos[fila][NOM] + &quot;&lt;/td&gt;&quot;);&#xa;&#x9;out.println(&quot;&lt;/tr&gt;&quot;);&#xa;} %&gt;" ID="ID_1556841833" CREATED="1355330507399" MODIFIED="1355330508563"/>
</node>
</node>
</node>
</node>
<node TEXT="M" POSITION="right" ID="ID_332258097" CREATED="1587057366907" MODIFIED="1587057371912">
<icon BUILTIN="info_acci&#xf3;n"/>
</node>
<node TEXT="variables especiales" FOLDED="true" POSITION="right" ID="ID_958719959" CREATED="1354723574613" MODIFIED="1361587550960">
<node TEXT="est&#xe1;n presentes sin declararlas (o bien se declaran por nosotros, o bien son par&#xe1;metros recibidos)" ID="ID_992959096" CREATED="1354723574613" MODIFIED="1354728609567"/>
<node TEXT="" ID="ID_1580337185" CREATED="1354728590901" MODIFIED="1354728590901">
<node TEXT="request" ID="ID_548431429" CREATED="1354723574613" MODIFIED="1354723574613">
<node TEXT="para consultar informaci&#xf3;n acerca de la petici&#xf3;n web que ha provocado que este JSP se est&#xe9; ejecutando" ID="ID_476549975" CREATED="1354723574613" MODIFIED="1354723574613"/>
</node>
<node TEXT="response" ID="ID_915108172" CREATED="1354723574613" MODIFIED="1354723574613">
<node TEXT="para definir cuestiones acerca de la respuesta que se le va a dar al cliente" ID="ID_479015627" CREATED="1354723574613" MODIFIED="1354723574613"/>
</node>
<node TEXT="out" ID="ID_400789294" CREATED="1354723574613" MODIFIED="1354723574613">
<node TEXT="(es parte de response)" ID="ID_1129954352" CREATED="1587052152654" MODIFIED="1587052155999"/>
<node TEXT="para escribir directamente en la salida, igual que cuando en Java se hace System.out.xxx()." ID="ID_1718886374" CREATED="1354723574613" MODIFIED="1354723574613"/>
</node>
</node>
</node>
<node TEXT="par&#xe1;metros" FOLDED="true" POSITION="right" ID="ID_757948620" CREATED="1355153409919" MODIFIED="1572259674106">
<node TEXT="los PAR&#xc1;METROS tienen" ID="ID_592104548" CREATED="1355794267192" MODIFIED="1355794404748">
<node TEXT="un identificador" ID="ID_1895987565" CREATED="1355794270047" MODIFIED="1355794272202">
<node TEXT="siempre de tipo STRING" ID="ID_677148150" CREATED="1355794291742" MODIFIED="1355794294431"/>
</node>
<node TEXT="un valor" ID="ID_735787145" CREATED="1355794272416" MODIFIED="1355794291369">
<node TEXT="siempre de tipo STRING" ID="ID_107896700" CREATED="1355794291742" MODIFIED="1355794294431"/>
</node>
</node>
<node TEXT="por GET, se pasan as&#xed;:" ID="ID_1917000318" CREATED="1355794381366" MODIFIED="1572259682067">
<node TEXT="pagina.jsp?identificador=valor" ID="ID_1383323170" CREATED="1355794384522" MODIFIED="1355794394232"/>
<node TEXT="pagina.jsp?identificador1=valor1&amp;identificador2=valor2&amp;identificador3=valor3" ID="ID_1352809706" CREATED="1355794384522" MODIFIED="1355794427474"/>
</node>
<node TEXT="ejemplo real" FOLDED="true" ID="ID_56936684" CREATED="1355153497436" MODIFIED="1355794717391">
<icon BUILTIN="z_script"/>
<node TEXT="direcci&#xf3;n completa" ID="ID_805908713" CREATED="1355153437108" MODIFIED="1355153457787">
<node TEXT="http://dukefotografia.com/pag/detalle_completo.asp?campo_categoria=Fotograf%EDa+digital&amp;campo_subcategoria=C%E1maras&amp;campo_subsubcategoria=CANON&amp;condicion=condicion3&amp;Product_id=4387&amp;producto=CANON%20EOS-1D%20X%20CUERPO" ID="ID_865054028" CREATED="1355153447818" MODIFIED="1355153448728"/>
</node>
<node TEXT="direcci&#xf3;n desgranada" FOLDED="true" ID="ID_1514376624" CREATED="1355153425784" MODIFIED="1355153456186">
<node ID="ID_103252245" CREATED="1355153433621" MODIFIED="1355153433621"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <p class="MsoNormal">
      http://www.dukefotografia.com/pag/detalle_completo.asp
    </p>
    <p class="MsoNormal">
      ?
    </p>
    <p class="MsoNormal">
      campo_categoria=Fotograf%EDa+digital
    </p>
    <p class="MsoNormal">
      &amp;
    </p>
    <p class="MsoNormal">
      campo_subcategoria=C%E1maras
    </p>
    <p class="MsoNormal">
      &amp;
    </p>
    <p class="MsoNormal">
      campo_subsubcategoria=CANON
    </p>
    <p class="MsoNormal">
      &amp;
    </p>
    <p class="MsoNormal">
      condicion=condicion3
    </p>
    <p class="MsoNormal">
      &amp;
    </p>
    <p class="MsoNormal">
      Product_id=4387
    </p>
    <p class="MsoNormal">
      &amp;
    </p>
    <span style="line-height: 115%; font-size: 11.0pt; font-family: Calibri,sans-serif"><font size="11.0pt" face="Calibri,sans-serif">producto=CANON%20EOS-1D%20X%20CUERPO</font></span>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
<node TEXT="(por POST, se pasan como parte de un formulario)" ID="ID_662256677" CREATED="1572259684603" MODIFIED="1572259695146"/>
<node TEXT="para recoger los par&#xe1;metros desde JSP" ID="ID_1440526203" CREATED="1355154371414" MODIFIED="1355794501248">
<node TEXT="String nombre = request.getParameter(&quot;nombre&quot;);" ID="ID_1580920958" CREATED="1355794460807" MODIFIED="1570701523579"/>
<node TEXT="int id = Integer.valueOf(request.getParameter(&quot;id&quot;));" ID="ID_856205600" CREATED="1355794460807" MODIFIED="1355794460807">
<node TEXT="(si necesitamos convertirlos a algo que no sea String hay que hacer esto)" ID="ID_754783453" CREATED="1355793379783" MODIFIED="1355794497631">
<icon BUILTIN="atenci&#xf3;n_!"/>
</node>
</node>
<node TEXT="si el par&#xe1;metro por el cual pregunto no est&#xe1; presente (no fue enviado), el getParameter me devuelve null" ID="ID_1831147488" CREATED="1572259705420" MODIFIED="1572259734339"/>
<node TEXT="si el par&#xe1;metro fue enviado pero sin asignarle un valor concreto, el getParameter me devuelve &quot;&quot;" ID="ID_1395227791" CREATED="1572259734847" MODIFIED="1572259754617"/>
</node>
</node>
<node TEXT="bean-s" FOLDED="true" POSITION="right" ID="ID_797659473" CREATED="1571051229258" MODIFIED="1571051231395">
<node TEXT="http://www.jsptut.com/Forms.jsp" ID="ID_794368303" CREATED="1571051232137" MODIFIED="1571051232137" LINK="http://www.jsptut.com/Forms.jsp"/>
</node>
<node TEXT="redirecci&#xf3;n Java" FOLDED="true" POSITION="right" ID="ID_1909809148" CREATED="1355793894037" MODIFIED="1361587558274">
<node TEXT="si NO queremos devolver HTML al cliente desde este JSP sino que queremos que sea OTRO JSP el que lo devuelva" ID="ID_203075107" CREATED="1355793909381" MODIFIED="1571738080569"/>
<node TEXT="para ello, desde JAVA:" ID="ID_933411641" CREATED="1355793932927" MODIFIED="1355793936675">
<node TEXT="response.sendRedirect(&quot;otra-pagina.jsp?ciudadVacia&quot;)" ID="ID_106502968" CREATED="1355793899425" MODIFIED="1571739776758"/>
</node>
<node TEXT="no produce &quot;parpadeo&quot; en la p&#xe1;gina" ID="ID_425145782" CREATED="1571738051127" MODIFIED="1571738063652"/>
<node TEXT="(en este caso, no tiene sentido que nuestra p&#xe1;gina devuelva nada de HTML)" ID="ID_1567644395" CREATED="1355793937177" MODIFIED="1571738163413"/>
</node>
<node TEXT="redirecci&#xf3;n HTML" FOLDED="true" POSITION="right" ID="ID_492250950" CREATED="1355937924882" MODIFIED="1361587533867">
<node TEXT="se hace con una etiqueta META-REDIRECT" ID="ID_1599281947" CREATED="1355937929967" MODIFIED="1355938001437"/>
<node TEXT="el 0 es la cantidad de segundos que el navegador debe esperar antes de recargar la p&#xe1;gina" ID="ID_1564290404" CREATED="1571737730462" MODIFIED="1571737743507"/>
<node TEXT="suele &quot;parpadear&quot; la p&#xe1;gina antes de recargar la nueva URL" ID="ID_1531345824" CREATED="1571737402496" MODIFIED="1571737809442"/>
<node TEXT="ejemplo" ID="ID_414404365" CREATED="1355938008663" MODIFIED="1355938012810">
<node TEXT="&lt;meta http-equiv=&quot;refresh&quot; content=&quot;0;url=otra-pagina.jsp&quot; /&gt;" ID="ID_1474431168" CREATED="1355938006110" MODIFIED="1571737707927"/>
</node>
</node>
<node TEXT="redirecci&#xf3;n Javascript" FOLDED="true" POSITION="right" ID="ID_546615802" CREATED="1571737335265" MODIFIED="1571737342386">
<node TEXT="control total sobre el momento de la redirecci&#xf3;n" ID="ID_1551520762" CREATED="1571737392226" MODIFIED="1571737402342"/>
<node TEXT="pero requiere, eso s&#xed;, que la p&#xe1;gina se cargue completamente (y, si la redirecci&#xf3;n es inmediata se ver&#xe1; un &quot;parpadeo&quot;)" ID="ID_864262010" CREATED="1571737402496" MODIFIED="1571737432259"/>
<node TEXT="lo que hace es pedirle al navegador que cargue una URL determinada &quot;AHORA&quot;" ID="ID_1453473509" CREATED="1571737550339" MODIFIED="1571737568420"/>
<node TEXT="" ID="ID_731519691" CREATED="1571737394896" MODIFIED="1571737397089">
<icon BUILTIN="z_script"/>
<node TEXT="&lt;script&gt;&#xa;  window.location.href = &apos;otra-pagina.jsp&apos;;&#xa;&lt;/script&gt;" ID="ID_185057791" CREATED="1571737378213" MODIFIED="1571738186218"/>
</node>
</node>
<node TEXT="cookies" FOLDED="true" POSITION="right" ID="ID_170148941" CREATED="1572867470737" MODIFIED="1572867472047">
<node TEXT="tutorial" ID="ID_1618037616" CREATED="1572867474963" MODIFIED="1572867476289">
<node TEXT="https://www.tutorialspoint.com/jsp/jsp_cookies_handling.htm" ID="ID_1861280074" CREATED="1572867472643" MODIFIED="1572867472643" LINK="https://www.tutorialspoint.com/jsp/jsp_cookies_handling.htm"/>
</node>
<node TEXT="crearlas" ID="ID_1886066415" CREATED="1572867793931" MODIFIED="1572867798419">
<node TEXT="crear un objeto Cookie" ID="ID_909132049" CREATED="1572867474097" MODIFIED="1572867802515">
<node ID="ID_406058960" CREATED="1572867502612" MODIFIED="1572952483343"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre http-equiv="content-type" content="text/html; charset=utf-8" class="result notranslate">Cookie cookie = new Cookie(&quot;clave&quot;, &quot;valor&quot;);</pre>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="establecerle caducidad" ID="ID_443096180" CREATED="1572867503363" MODIFIED="1572867731089">
<node ID="ID_1340381428" CREATED="1572867731528" MODIFIED="1572867744736"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre http-equiv="content-type" content="text/html; charset=utf-8" class="result notranslate">cookie.setMaxAge(60*60*24); // En segundos; esto ser&#237;an 24h</pre>
  </body>
</html>
</richcontent>
</node>
<node TEXT="(si no se establece caducidad, duran la sesi&#xf3;n actual, sobre la cual no tenemos mucho control: establecerla siempre)" ID="ID_162318201" CREATED="1572867985628" MODIFIED="1572868014542"/>
</node>
<node TEXT="a&#xf1;adirla la respuesta" ID="ID_1824374065" CREATED="1572867754277" MODIFIED="1572867759928">
<node ID="ID_70336076" CREATED="1572867760233" MODIFIED="1572867760233"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre http-equiv="content-type" content="text/html; charset=utf-8" class="result notranslate">response.addCookie(cookie);</pre>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
<node TEXT="recogerlas" ID="ID_1870789750" CREATED="1572867804222" MODIFIED="1572867806833">
<node TEXT="recogerlas de la request" ID="ID_911230862" CREATED="1572867818575" MODIFIED="1572867840998">
<node ID="ID_829347225" CREATED="1572867807289" MODIFIED="1572867831265"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre http-equiv="content-type" content="text/html; charset=utf-8" class="prettyprint notranslate prettyprinted"><span class="typ">Cookie</span><span class="pun">[]</span><span class="pln"> cookies </span><span class="pun">=</span><span class="pln"> request.getCookies();</span></pre>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="si cookies = null, no hay cookies" ID="ID_1337522632" CREATED="1572867841427" MODIFIED="1572867853882"/>
<node TEXT="si cookies != null" ID="ID_595544178" CREATED="1572867871577" MODIFIED="1572867878264">
<node TEXT="cookies.length" ID="ID_1004810775" CREATED="1572867911012" MODIFIED="1572867911488"/>
<node TEXT="cookie[i].getName()" ID="ID_1174808029" CREATED="1572867878626" MODIFIED="1572867893456"/>
<node TEXT="cookie[i].getValue()" ID="ID_1684472771" CREATED="1572867893806" MODIFIED="1572867901365"/>
</node>
</node>
<node TEXT="modificarlas" ID="ID_333777344" CREATED="1572867793931" MODIFIED="1572952576127">
<node TEXT="&quot;crearlas&quot; con el mismo name, poniendo un valor diferente" ID="ID_9324202" CREATED="1572952581328" MODIFIED="1572952610930"/>
</node>
<node TEXT="borrarlas" ID="ID_1604831255" CREATED="1572867934696" MODIFIED="1572867936098">
<node TEXT="&quot;crearlas&quot; con el mismo name, poniendo setMaxAge(0)" ID="ID_1369058044" CREATED="1572867936338" MODIFIED="1572867955513"/>
</node>
</node>
<node TEXT="sesiones" FOLDED="true" POSITION="right" ID="ID_1274997657" CREATED="1355793065122" MODIFIED="1361587542282">
<node TEXT="la sesi&#xf3;n es un ESPACIO en el que se pueden guardar valores: &quot;ATRIBUTOS&quot;" ID="ID_1273892419" CREATED="1355793420668" MODIFIED="1355794308438"/>
<node TEXT="los ATRIBUTOS tienen" ID="ID_913547084" CREATED="1355794267192" MODIFIED="1355794303226">
<node TEXT="un identificador" ID="ID_1945808102" CREATED="1355794270047" MODIFIED="1355794272202"/>
<node TEXT="un valor" ID="ID_106463471" CREATED="1355794272416" MODIFIED="1355794291369">
<node TEXT="en muchos lenguajes de servidor debe ser String pero en JSP es CUALQUIER OBJETO" ID="ID_985729421" CREATED="1355794291742" MODIFIED="1573553495061"/>
</node>
</node>
<node TEXT="uso desde JAVA" ID="ID_792547128" CREATED="1355793831047" MODIFIED="1355794209466">
<node TEXT="consultar si la sesi&#xf3;n acaba de ser creada por este script (esto es &#xfa;til porque la primera vez suelen asignarse valores por defecto o hacer otras inicializaciones)" ID="ID_1451500726" CREATED="1573633614744" MODIFIED="1573633991626">
<node TEXT="session.isNew()" ID="ID_1185522864" CREATED="1573633630859" MODIFIED="1573633634620"/>
</node>
<node TEXT="establecer un atributo en la sesi&#xf3;n" ID="ID_1117471633" CREATED="1355793861080" MODIFIED="1355794253381">
<node TEXT="session.setAttribute(&quot;identificador&quot;, objeto);" ID="ID_1050181828" CREATED="1355793839536" MODIFIED="1573553503022"/>
</node>
<node TEXT="leer un atributo de la sesi&#xf3;n" ID="ID_972639853" CREATED="1355793966325" MODIFIED="1573633574278">
<node TEXT="MiClase objeto = session.getAttribute(&quot;identificador&quot;);" ID="ID_1547403115" CREATED="1355793842501" MODIFIED="1573633608221"/>
<node TEXT="(si viene null es que no hay dato)" ID="ID_1792954063" CREATED="1573728515366" MODIFIED="1573728524299"/>
</node>
<node TEXT="eliminar un atributo de la sesi&#xf3;n" ID="ID_752762530" CREATED="1355794242591" MODIFIED="1355794249967">
<node TEXT="session.removeAttribute(&quot;identificador&quot;);" ID="ID_482304195" CREATED="1355794338674" MODIFIED="1355794345315"/>
</node>
<node TEXT="eliminar la sesi&#xf3;n *entera* que tenemos con un cliente (&quot;cerrar sesi&#xf3;n&quot;):" ID="ID_1592135754" CREATED="1355794012278" MODIFIED="1355794361033">
<node TEXT="session.invalidate();" ID="ID_99645214" CREATED="1355794036925" MODIFIED="1355794038335"/>
</node>
<node TEXT="establecer la duraci&#xf3;n de ESTA sesi&#xf3;n RAM:" ID="ID_748018533" CREATED="1355794209458" MODIFIED="1573476421135">
<node TEXT="session.setMaxInactiveInterval(2*60*60); // 2h" ID="ID_547445102" CREATED="1355794203538" MODIFIED="1573476385083"/>
<node TEXT="si no establecemos duraci&#xf3;n, dura para esta sesi&#xf3;n" ID="ID_572147591" CREATED="1573729008107" MODIFIED="1573729017436"/>
</node>
</node>
</node>
<node TEXT="acceso a base de datos" FOLDED="true" POSITION="right" ID="ID_636246414" CREATED="1355761006261" MODIFIED="1355936850152">
<node TEXT="todo esto es ID&#xc9;NTICO a c&#xf3;mo se hace en Java normal" ID="ID_390152820" CREATED="1355793117919" MODIFIED="1355793128696"/>
<node TEXT="plantilla try-catch &#xfa;til para acceso a BD" ID="ID_1371382710" CREATED="1355761017567" MODIFIED="1355793110723">
<node TEXT="boolean correcto = true; &#xa;try {&#xa;&#x9;bd.ejecutarActualizacion(sql);&#xa;} catch (BDException e) {&#xa;&#x9;correcto = false;&#xa;}" ID="ID_1329427700" CREATED="1355761025933" MODIFIED="1355761030824"/>
</node>
</node>
</node>
</map>
